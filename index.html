<!DOCTYPE html>
<html>
	<head>
		<title>JOGO DA VELHA</title>
		<link rel="stylesheet" type="text/css" href="stylo.css">
	</head>
	<body>
		<script>
			
			var body = document.querySelector('body');
			var posicao
			var vez = 1
			var rodadaX1, rodadaX2, rodadaX3, rodadaX4, rodadaX5
			var rodadaO1, rodadaO2, rodadaO3, rodadaO4
			var rodada = 1
			var nome1="Jogador X"
			var nome2="Jogador BOLA"


			var start = document.createElement('div')
			start.setAttribute('class','start')
			start.setAttribute('onclick','iniciar()')
			start.textContent='INICIAR'
			body.appendChild(start)

			var container = document.createElement('div')
			container.setAttribute('class','container')
			body.appendChild(container)
			
			verificar = new Array(9)

			var possibilidade1, possibilidade2, possibilidade3, possibilidade4, possibilidade5, possibilidade6, possibilidade7, possibilidade8



			for (var i = 1; i<=9; i++) {
				posicao = document.createElement('div')
				posicao.id=('jogo'+i)
				posicao.setAttribute('class','opcao'+i)
				posicao.setAttribute('onclick','jogo('+i+')')
				container.appendChild(posicao)
				verificar[i]=0
			}

			var possibilidade1, possibilidade2, possibilidade3, possibilidade4, possibilidade5, possibilidade6, possibilidade7, possibilidade8, velha

			

			window.onload = function iniciar (){

				nome1=prompt("BEM VINDO AO JOGO DA VELHA!\nQual o nome do jogador 1? (X)")
				nome2=prompt("Qual o nome do jogador 2? (BOLA)")
				var jogadores = document.createElement('div')
				jogadores.setAttribute("class","jogadores")
				body.appendChild(jogadores)
				var jogador1 = document.createElement('p')
				jogador1.textContent=nome1+": "
				var jogador2 = document.createElement('p')
				jogador2.textContent=nome2+": "
				jogadores.appendChild(jogador1)
				jogadores.appendChild(jogador2)
				var imgbola = document.createElement('img')
				imgbola.setAttribute("class","imgbola")
				imgbola.src='bola.png'
				imgbola.height='80'
				imgbola.width='80'
				jogador2.appendChild(imgbola)
				var imgx = document.createElement('img')
				imgx.setAttribute("class","imgx")
				imgx.src='x.png'
				imgx.height='80'
				imgx.width='80'
				jogador1.appendChild(imgx)
				start.setAttribute('onclick','japreenchido()')

			}

			function jogo(pos)
				{
					var jogo = pos				

					if (vez%2!=1){
						var bola = document.createElement('div')
						bola.setAttribute('class','bola')
						var posicao = document.getElementById('jogo'+pos)
						posicao.appendChild(bola)
						posicao.setAttribute('onclick','jaescolhida()')
						verificar[pos]=-1
						vez=vez+1
						
					}else{
						var x = document.createElement('div')
						x.setAttribute('class','x')
						var posicao = document.getElementById('jogo'+pos)	
						posicao.appendChild(x)
						posicao.setAttribute('onclick','jaescolhida()')
						verificar[pos]=1
						vez=vez+1						
					}

					rodada++

					possibilidade1 = verificar[1]+verificar[2]+verificar[3]
					possibilidade2 = verificar[4]+verificar[5]+verificar[6]
					possibilidade3 = verificar[7]+verificar[8]+verificar[9]
					possibilidade4 = verificar[1]+verificar[4]+verificar[7]
					possibilidade5 = verificar[2]+verificar[5]+verificar[8]
					possibilidade6 = verificar[3]+verificar[6]+verificar[9]
					possibilidade7 = verificar[1]+verificar[5]+verificar[9]
					possibilidade8 = verificar[3]+verificar[5]+verificar[7]

				  	if (possibilidade1 == 3 || possibilidade2 == 3 || possibilidade3 == 3 || possibilidade4 == 3 || possibilidade5 == 3 || possibilidade6 == 3 || possibilidade7 == 3 || possibilidade8 == 3){
					alert("Jogador: "+nome1+" GANHOU!!")
					location.reload()
					}

					if (possibilidade1 == -3 || possibilidade2 == -3 || possibilidade3 == -3 || possibilidade4 == -3 || possibilidade5 == -3 || possibilidade6 == -3 || possibilidade7 == -3 || possibilidade8 == -3){
						alert("Jogador: "+nome2+" GANHOU!!")
						location.reload()
					}

					if (rodada==10){
						alert("DEU VELHA!!")
						location.reload()
					}

				}




			

			function jaescolhida(){
				alert("POSIÇÃO JA ESCOLHIDA\nESCOLHA UMA VAZIA")
			}

			function japreenchido(){
				alert("NOMES JA PREENCHIDOS")
			}
		</script>
	</body>
</html>